<head>
    <meta charset="utf-8">
    <!-- Primary Meta Tags -->
    <title>測試圖片顯示</title>
    <meta name="title" content="作答頁面開發">
    <meta name="description" content="開發囉">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <link rel=stylesheet type="text/css" href="main.css">
    
</head>
<body>
    <h1 id="introTitle">請觀看下列圖片</h1>
    <br><br>

    <div id="imgBox">
        <img id="targetImg" src="">
    </div>
    <br><br>
    <button id="answerButton" class="btn" onclick="alert('開始作答囉')" style="visibility: hidden;">開始作答</button>
    <svg></svg>
<script>
    console.log("AAA")
    $.getJSON("test.json", function(json) {
    console.log(json); // this will show the info it in firebug console
    ByteArrayAsBase64 = json.Img;
    console.log("QQQ")
    //document.getElementById("ItemPreview").src = "data:image/png;base64," + ByteArrayAsBase64;
    document.getElementById('targetImg')
    .setAttribute(
        'src', 'data:image/png;base64,'+ByteArrayAsBase64
    );

    $('#answerButton')
    .css('visibility', 'visible');
});

    d3.select("svg").append("circle")

    url = "http://localhost:13523/getImg"
    data = fetch(url)
                .then(function(response) {
                    data = response.json().then(function(data){
                        $.getJSON(data.filename, function(json) {
                            console.log(json); // this will show the info it in firebug console
                        });
                        
                    })
                })
            
</script> 
</body>